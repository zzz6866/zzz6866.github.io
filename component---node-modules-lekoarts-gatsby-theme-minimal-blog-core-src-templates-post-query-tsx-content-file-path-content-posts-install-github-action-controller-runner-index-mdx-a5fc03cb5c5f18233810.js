"use strict";(self.webpackChunkminimal_blog=self.webpackChunkminimal_blog||[]).push([[926],{4765:function(e,n,t){t.d(n,{F:function(){return p},Z:function(){return d}});var l=t(7294),a=t(8733),r=t(795),c=t(6920),i=t(6799),o=t(8871);var m=e=>{let{post:n}=e;return null};const u=["16px","8px","4px"].map((e=>"rgba(0, 0, 0, 0.1) 0px "+e+" "+e+" 0px"));var s=e=>{let{data:{post:n},children:t}=e;return(0,a.tZ)(c.Z,null,(0,a.tZ)(r.X6,{as:"h1",variant:"styles.h1"},n.title),(0,a.tZ)("p",{sx:{color:"secondary",mt:3,a:{color:"secondary"},fontSize:[1,1,2]}},(0,a.tZ)("time",null,n.date),n.tags&&(0,a.tZ)(l.Fragment,null," — ",(0,a.tZ)(i.Z,{tags:n.tags})),n.timeToRead&&" — ",n.timeToRead&&(0,a.tZ)("span",null,n.timeToRead," min read")),(0,a.tZ)("section",{sx:{my:5,".gatsby-resp-image-wrapper":{my:[4,4,5],borderRadius:"4px",boxShadow:u.join(", "),".gatsby-resp-image-image":{borderRadius:"4px"}},variant:"layout.content"}},t),(0,a.tZ)(m,{post:n}))};const p=e=>{var n,t,l;let{data:{post:r}}=e;return(0,a.tZ)(o.Z,{title:r.title,description:r.description?r.description:r.excerpt,image:r.banner?null===(n=r.banner)||void 0===n||null===(t=n.childImageSharp)||void 0===t||null===(l=t.resize)||void 0===l?void 0:l.src:void 0,pathname:r.slug,canonicalUrl:r.canonicalUrl})};function d(e){let{...n}=e;return l.createElement(s,n)}},6799:function(e,n,t){var l=t(8733),a=t(7294),r=t(1883),c=t(3494),i=t(9706);n.Z=e=>{let{tags:n}=e;const{tagsPath:t,basePath:o}=(0,c.Z)();return(0,l.tZ)(a.Fragment,null,n.map(((e,n)=>(0,l.tZ)(a.Fragment,{key:e.slug},!!n&&", ",(0,l.tZ)(r.Link,{sx:e=>{var n;return{...null===(n=e.styles)||void 0===n?void 0:n.a}},to:(0,i.Z)("/"+o+"/"+t+"/"+e.slug)},e.name)))))}},8871:function(e,n,t){var l=t(7294),a=t(1883),r=t(4232);n.Z=e=>{let{title:n="",description:t="",pathname:c="",image:i="",children:o=null,canonicalUrl:m=""}=e;const u=(0,r.Z)(),{siteTitle:s,siteTitleAlt:p,siteUrl:d,siteDescription:g,siteImage:E,author:b,siteLanguage:h}=u,A={title:n?n+" | "+s:p,description:t||g,url:""+d+(c||""),image:""+d+(i||E)};return l.createElement(l.Fragment,null,l.createElement("html",{lang:h}),l.createElement("title",null,A.title),l.createElement("meta",{name:"description",content:A.description}),l.createElement("meta",{name:"image",content:A.image}),l.createElement("meta",{property:"og:title",content:A.title}),l.createElement("meta",{property:"og:url",content:A.url}),l.createElement("meta",{property:"og:description",content:A.description}),l.createElement("meta",{property:"og:image",content:A.image}),l.createElement("meta",{property:"og:type",content:"website"}),l.createElement("meta",{property:"og:image:alt",content:A.description}),l.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),l.createElement("meta",{name:"twitter:title",content:A.title}),l.createElement("meta",{name:"twitter:url",content:A.url}),l.createElement("meta",{name:"twitter:description",content:A.description}),l.createElement("meta",{name:"twitter:image",content:A.image}),l.createElement("meta",{name:"twitter:image:alt",content:A.description}),l.createElement("meta",{name:"twitter:creator",content:b}),l.createElement("meta",{name:"gatsby-theme",content:"@lekoarts/gatsby-theme-minimal-blog"}),l.createElement("link",{rel:"icon",type:"image/png",sizes:"32x32",href:(0,a.withPrefix)("/favicon-32x32.png")}),l.createElement("link",{rel:"icon",type:"image/png",sizes:"16x16",href:(0,a.withPrefix)("/favicon-16x16.png")}),l.createElement("link",{rel:"apple-touch-icon",sizes:"180x180",href:(0,a.withPrefix)("/apple-touch-icon.png")}),m?l.createElement("link",{rel:"canonical",href:m}):null,o)}},6604:function(e,n,t){t.r(n),t.d(n,{Head:function(){return i.F},default:function(){return o}});var l=t(7294),a=t(1151);function r(e){const n=Object.assign({h2:"h2",blockquote:"blockquote",ul:"ul",li:"li",a:"a",h3:"h3",pre:"pre",code:"code",span:"span"},(0,a.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement(n.h2,null,"GitHub Action Controller Runner 란?"),"\n",l.createElement(n.blockquote,null,"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"GitHub Action Controller Runner는 GitHub Action을 실행하기 위한 러너입니다."),"\n",l.createElement(n.li,null,"GitHub Action을 실행하기 위해서는 GitHub에서 제공하는 러너를 사용하거나, 직접 러너(self-hosted)를 구축하여 사용할 수 있습니다."),"\n",l.createElement(n.li,null,"GitHub에서 제공하는 러너는 무료로 사용할 수 있지만, 제한된 자원을 사용하게 됩니다. (1달에 2000분의 실행시간, 10GB의 저장공간)"),"\n",l.createElement(n.li,null,"GitHub Action Controller Runner(ARC)는 GitHub에서 제공하는 러너와 동일한 기능을 제공하며, 자원을 제한받지 않고 사용할 수 있습니다."),"\n",l.createElement(n.li,null,"GitHub Action Controller Runner(ARC)는 GitHub Action을 실행하기 위한 러너이기 때문에, GitHub Action을 실행하기 위해서는 GitHub Action Controller Runner를 설치해야 합니다."),"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"https://github.com/actions/actions-runner-controller"},"GitHub - Action Controller Runner 링크")),"\n"),"\n"),"\n",l.createElement(n.h2,null,"GitHub Action Controller Runner 설치"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"https://github.com/actions/actions-runner-controller/blob/master/docs/installing-arc.md"},"GitHub - Action Controller Runner 설치 링크")),"\n",l.createElement(n.li,null,"GitHub Action Controller Runner는 Kubernetes에서 동작하는 Pod로 설치되고 실행된다."),"\n"),"\n",l.createElement(n.h3,null,"선행조건"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"Kubernetes 클러스터"),"\n",l.createElement(n.li,null,"Cert-Manger 설치 ",l.createElement(n.a,{href:"https://cert-manager.io/docs/installation/helm/"},"Install Link")),"\n"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"# cert-manager repo 추가\nhelm repo add jetstack https://charts.jetstack.io\nhelm repo update\n\n# cert-manager 설치\nhelm install\n  cert-manager jetstack/cert-manager\n  --namespace cert-manager\n  --create-namespace\n  --version v1.12.0\n  --set installCRDs=true # kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.12.0/cert-manager.crds.yaml 명령어로 설치 가능하나 helm 설치시 같이 설치하는 것을 권장\n")),"\n",l.createElement(n.h3,null,"설치"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"GitHub Action Controller Runner 설치"),"\n"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},'# GitHub Action Controller Runner repo 추가\nhelm repo add actions-runner-controller https://actions-runner-controller.github.io/actions-runner-controller\nhelm repo update\n\n# GitHub Action Controller Runner 설치\nhelm upgrade --install --namespace actions-runner-system --create-namespace --timeout "600s" --debug -f values.yaml \\\n             --wait actions-runner-controller actions-runner-controller/actions-runner-controller\n')),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"commands 옵션 설명","\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"--namespace actions-runner-system")," : 설치할 namespace 지정"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"--create-namespace")," : namespace가 없을 경우 생성"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,'--timeout "600s"')," : 설치 timeout 시간 지정"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"--debug")," : 설치 과정 로그 출력"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"-f values.yaml")," : 설치시 사용할 values.yaml 파일 지정","\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"values.yaml 작성법 ",l.createElement(n.a,{href:"https://github.com/actions/actions-runner-controller/blob/master/charts/actions-runner-controller/README.md"},"values.yaml Docs")),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"authSecret.create: false")," : 초기 설치시 true로 변경해야 Secret이 생성 되고 오류가 발생하지 않음"),"\n",l.createElement(n.li,null,"인증키 발급 방법 및 인증키 작성법","\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"https://github.com/actions/actions-runner-controller/blob/master/docs/authenticating-to-the-github-api.md"},"GitHub - Action Controller Runner 인증키 발급 링크")),"\n"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-yaml"},'# 링크에서 인증키 발급 후 아래와 같이 작성\ngithub_app_id: "${APP_ID}"\ngithub_app_installation_id: "${INSTALLATION_ID}"\ngithub_app_private_key: |\n  ${PRIVATE_KEY}\n')),"\n"),"\n"),"\n"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"--wait")," : 설치 완료까지 대기"),"\n"),"\n"),"\n"),"\n",l.createElement(n.h2,null,"Self-hosted runner 생성"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"GitHub Action Controller Runner 설치 후, GitHub Action을 실행하기 위한 Self-hosted runner를 생성해야 한다.",l.createElement(n.a,{href:"https://github.com/actions/actions-runner-controller/blob/master/docs/deploying-arc-runners.md"},"Docs Link")),"\n"),"\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-yaml"},"# runnerdeployment.yaml\napiVersion: actions.summerwind.dev/v1alpha1\nkind: RunnerDeployment\nmetadata:\n  name: action-runner\n  namespace: actions-runner-system\nspec:\n  replicas: 2\n  template:\n    spec:\n      labels:\n        - dev-runner # runner를 구분하기 위한 label - GitHub Action에서 실행될 runner를 선택하기 위해 사용\n      nodeSelector:\n        kubernetes.io/hostname: node01 # 특정 노드에 runner를 배포하기 위한 설정 - 주석시 모든 노드에 배포\n      organization: mumoshu/actions-runner-controller-ci\n")),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"캐싱이 필요한 경우 Volume을 지정하기 위해서 ",l.createElement(n.a,{href:"https://github.com/actions/actions-runner-controller/blob/master/docs/using-custom-volumes.md"},"이곳"),"을 참고하여 설정"),"\n",l.createElement(n.li,null,"runnerdeployment.yaml 파일을 생성 후, 아래 명령어로 배포","\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"kubectl apply -f runnerdeployment.yaml\n")),"\n"),"\n"),"\n",l.createElement(n.h2,null,"설치 완료"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,"설치가 완료되면 아래와 같이 pod가 생성되고, GitHub Action에서 사용할 수 있다.","\n",l.createElement(n.pre,null,l.createElement(n.code,{className:"language-bash"},"kubectl get pod -n actions-runner-system\n")),"\n",l.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABmklEQVR42n2SW5KbMBBF+Ukm4xjzkEBvCQwYbNd4kvxkBamsJPtfwk21hImnMsnHqUYIbt9+ZNP5Fd14waFWONRyjQoFu58l9mWLz0XzT+J9mWKm3ABChwnajzDhBNMl0rsJwhzBVYfWHNHoHo1eowpodAATHo0MKJlGZrsTHnH9vGHCFKPtZzA9gdtlZY4wSWIW3HqIrkcpDbJdzrHLGZ73DB8+HTY+PhdveHrn/LRLz+7nBedf36F/LMiUn2C6GdKNkG6AsAOkHcClBxMOjOJ/oDZwE9D4Hkx7ZFTOfP2G4/yCcblhXF4xLDcwPeLA7TaY98hrAaY8lB1QcYO8FMha08Mdl9SztY9cBtTCo24dqsZEyC1NniaZVyKyr1rU0sa7e5I45WG+RYe0PmG8oNFd/KhuLaoVakHB9SZ2p1YpKSWihHHKp+tXnC5fMMwv6KdrXJ8k6DZBWo37j4+CBU87S8/RIQ3Ax5KXtHt+BFchuWsMyrVkOpPDv0pW9q1DWk4S9MM59i+5Izd/BEuuk+Dq5JFKpITJocJvSYUZ7wR9nM0AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="완료"\n        title=""\n        src="/static/f5abe42d3f68a78ee9667b79261313c2/7d769/image1.png"\n        srcset="/static/f5abe42d3f68a78ee9667b79261313c2/5243c/image1.png 240w,\n/static/f5abe42d3f68a78ee9667b79261313c2/ab158/image1.png 480w,\n/static/f5abe42d3f68a78ee9667b79261313c2/7d769/image1.png 960w,\n/static/f5abe42d3f68a78ee9667b79261313c2/87339/image1.png 1440w,\n/static/f5abe42d3f68a78ee9667b79261313c2/9e653/image1.png 1890w"\n        sizes="(max-width: 960px) 100vw, 960px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.code,null,"Standard GitHub-hosted runners")," : GitHub에서 제공하는 러너"),"\n",l.createElement(n.li,null,l.createElement(n.code,null,"action-runner-xxxx")," : ARC를 설치하여 생성한 러너, GitHub Action에서 트리거가 발생하면 할당 받아 실행을 처리한다."),"\n"),"\n"),"\n"),"\n",l.createElement(n.h2,null,"참고"),"\n",l.createElement(n.ul,null,"\n",l.createElement(n.li,null,l.createElement(n.a,{href:"https://github.com/actions/actions-runner-controller"},"GitHub - Action Controller Runner Docs")),"\n"))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?l.createElement(n,e,l.createElement(r,e)):r(e)},i=t(4765);function o(e){return l.createElement(i.Z,e,l.createElement(c,e))}i.Z}}]);
//# sourceMappingURL=component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-content-file-path-content-posts-install-github-action-controller-runner-index-mdx-a5fc03cb5c5f18233810.js.map